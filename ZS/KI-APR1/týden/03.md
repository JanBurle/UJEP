# 03 â€“ Debugging, rozhodovÃ¡nÃ­, cykly

[ProÄ se chybÄ› v programu Å™Ã­kÃ¡ _bug_?](https://youtu.be/84VmwdGwYMA)

## Inspekce promÄ›nnÃ½ch v zÃ¡pisnÃ­ku Google Colab

Inspekce promÄ›nnÃ½ch = sledovÃ¡nÃ­ jejich hodnoty a typu pÅ™i bÄ›hu programu.

- OtevÅ™ete si postrannÃ­ zÃ¡loÅ¾ku _variables {x}_.
- SpusÅ¥te program v kÃ³dovÃ© buÅˆce a sledujte vznik a obsah promÄ›nnÃ½ch. Program pozastavÃ­te pomocÃ­ (prÃ¡zdnÃ©ho) `input()`.

```python
jmÃ©no = input('Jak se jmenujete? ')
bydliÅ¡tÄ› = input('Kde bydlÃ­te? ')
vÄ›k = int(input('Kolik je VÃ¡m let? '))

print(f'DobrÃ½ den, pane/panÃ­ {jmÃ©no},')
print(f'bydlÃ­te v mÄ›stÄ› {bydliÅ¡tÄ›}')
vÄ›k = vÄ›k + 1
input() # pozastaveno
print(f'a za rok VÃ¡m bude {vÄ›k + 1} let.')
```

## VestavÄ›nÃ© funkce

SystÃ©movÃ© funkce, metody a moduly majÃ­ v Pythonu jmÃ©na, kterÃ¡ zaÄÃ­najÃ­ a konÄÃ­ dvÄ›ma podtrÅ¾Ã­tky. NapÅ™. modul `__builtins__` (tento modul nemusÃ­me importovat) obsahuje vestavÃ¨nÃ© funkce, vÃ½jimky a jinÃ©:

```python
print(__builtins__)
```

```python
dir(__builtins__)
```

```python
help(__builtins__) # ojojoj
```

NapÅ™. vestavÄ›nÃ© funkce `min()` nebo `max()` ...

```python
help(min)
help(max)
```

... akceptujÃ­ dva a vÃ­ce argumentÅ¯, nebo jeden seznam (list) hodnot:

```python
print(min(3, 2))
print(min(3, 2, 4, 8))

seznam = [3, 2, 4, 8]
print(seznam)
print(type(seznam))
print(min(seznam))
```

## Å˜etÄ›zce (strings)

Å˜etÄ›zec ([str](https://docs.python.org/3/library/string.html)) je nemÄ›nnÃ¡ (immutable) posloupnost znakÅ¯. SpecielnÃ­ (nestandardnÃ­) znaky lze zapisovat pomocÃ­ [escape sekvencÃ­](https://www.w3schools.com/python/gloss_python_escape_characters.asp), a to i [Unicode](https://docs.python.org/3/howto/unicode.html):

```python
s = 'line\n\talfa slon: \u03B1\U0001F418'
print(s)
```

Nebo mÅ¯Å¾eme vloÅ¾it unicode pÅ™Ã­mo jako znak:

```python
slon = 'ğŸ˜'
print(slon)
```

Å˜etÄ›zce lze spojovat,

```python
s = 'sss'
t = 'ttt'
s + t
```

opakovat,

```python
s = 'x '
n = 8
s * n
```

a hledat v nich podÅ™etÄ›zce operÃ¡torem `in`:

```python
'ro' in 'Frodo'
```

```python
'ro' in 'Gandalf'
```

Typ `str` mÃ¡ celou Å™adu metod:

```python
dir(str)
# help(str)
```

NapÅ™Ã­klad zamÄ›ÅˆovÃ¡nÃ­:

```python
print('Faramir'.replace('Fara','Boro'))
```

Nebo rozdÄ›lenÃ­ Å™etÄ›zce na ÄÃ¡sti:

```python
x,y,z = '3 4 5.0'.split() # Ha! MnohonÃ¡sobnÃ© pÅ™iÅ™azenÃ­ vlevo
print(x, y, z)
```

a mnohÃ© dalÅ¡Ã­.

## RozhodovÃ¡nÃ­ â€“ vÄ›tvenÃ­ programu

PodmÃ­nky â€“ napÅ™. porovnÃ¡nÃ­ dvou ÄÃ­sel majÃ­ vÃ½sledek typu `bool`: `False` nebo `True`. Ale i jinÃ© typy lze pouÅ¾Ã­t jako tzv. pravdivostnÃ­ hodnoty. NapÅ™.:

ÄŒÃ­sla: 0 je nepravda, ostatnÃ­ ÄÃ­sla pravda

```python
x = 0
# x = 0.0
# x = 0.1
# x = 1
print('nenÃ­ nula' if x else 'je nula')
```

Å˜etÄ›zce: prÃ¡zdnÃ½ Å™etÄ›zec je nepravda, neprÃ¡zdnÃ½ pravda

```python
s = ''
# s = '-'
# s = ' '
print('nenÃ­ prÃ¡zdnÃ½' if s else 'je prÃ¡zdnÃ½')
```

Seznamy: prÃ¡zdnÃ½ seznam je nepravda, neprÃ¡zdnÃ½ pravda

```python
l = []
# l = [0]
print('nenÃ­ prÃ¡zdnÃ½' if l else 'je prÃ¡zdnÃ½')
```

Podle jednÃ© podmÃ­nky lze program vÄ›tvit na dva rÅ¯znÃ© bloky. VnitÅ™ek blokÅ¯ musÃ­ bÃ½t odsazenÃ½. Typicky se v Pythonu odsazuje o ÄtyÅ™i mezery, ale v modernÃ­ch editorech takÃ© jen o dvÄ› mezery.

VÄ›tvenÃ­ lze do sebe zanoÅ™ovat:

```python
jmÃ©no = input('Jak se jmenujete? ')
vÄ›k = int(input('Kolik je VÃ¡m let? '))

AGE = 18
mladistvÃ½ = vÄ›k < AGE

if mladistvÃ½:
    print(f'DobrÃ½ den, mladÃ½ pane/sleÄno {jmÃ©no},')
    print('gratuluji k VaÅ¡emu mlÃ¡dÃ­!')
else:
    print(f'DobrÃ½ den, pane/panÃ­ {jmÃ©no},')
    print('gratuluji k VaÅ¡Ã­ moudrosti!')

if mladistvÃ½:
    volba = input('PÅ™ejete si vodu? ')
else:
    volba = input('PÅ™ejete si vodu nebo vodku? ')

chciVodu = 'vodu' == volba

if mladistvÃ½:
    if chciVodu:
        print('Zde je voda.')
    else:
        print('Zde je voda mÃ­sto vodky.')
else:
    if chciVodu:
        print('Zde je voda.')
    else:
        print('Zde je vodka.')
```

Nebo takto:

```python
if chciVodu:
    print('Zde je voda.')
else:
    if mladistvÃ½:
        print('Zde je voda mÃ­sto vodky.')
    else:
        print('Zde je vodka.')
```

PodmÃ­nky lze takÃ© Å™etÄ›zit:

```python
x = 0 # 1, -1
if x < 0:
    print('x je zÃ¡pornÃ©')
elif 0 < x:
    print('x je kladnÃ©')
# elif ...
else:
    print('x je nula')
```

TakÅ¾e pÅ™edchozÃ­ kÃ³d lze upravit takto:

```python
if chciVodu:
    print('Zde je voda.')
elif mladistvÃ½:
    print('Zde je voda mÃ­sto vodky.')
else:
    print('Zde je vodka.')
```

### Ãšloha:

NapiÅ¡te program, kterÃ½ ze vstupu pÅ™eÄte koeficienty a, b, c kvadratickÃ© rovnice, a to najednou, na jednÃ© Å™Ã¡dce, oddÄ›lenÃ© mezerami. Program vypoÄÃ­tÃ¡ a vypÃ­Å¡e koÅ™eny zadanÃ© rovnice.

#### ğŸ§© MoÅ¾nÃ© Å™eÅ¡enÃ­:

```python
a,b,c = input('Zadej a,b,c').split(',')

a = float(a)
b = float(b)
c = float(c)

# nebo:
# abc = input('Zadej a,b,c').split(',')
# a,b,c = map(float, abc)

D = b*b - 4*a*c

if 0 <= D:
  sqrtD = D ** .5
  x1 = (-b + sqrtD) / (2*a)
  x2 = (-b - sqrtD) / (2*a)
  if x1 == x2:
    print(f'Å˜eÅ¡enÃ­ je: {x1=:.3g}.')
  else:
    print(f'Å˜eÅ¡enÃ­ jsou: {x1=:.3g}, {x2=:.3g}.')
else:
  print('NemÃ¡ Å™eÅ¡enÃ­.')
```

## Cykly (smyÄky) `for` .. `in`

Program lze cyklit: opakovat jeho ÄÃ¡st. PrvnÃ­ druh je tzv. for-cyklus, kterÃ½ provede kÃ³d (tÄ›lo cyklu, tzv. _iteraci_) prÃ¡vÄ› jednou pro kaÅ¾dÃ½ zadanÃ½ objekt:

```python
for i in range(6): # range() je lÃ­nÃ½ "seznam"
  print(i)
```

`i` (nebo jinÃ© jmÃ©no) je tzv. Å™Ã­dÃ­cÃ­ promÄ›nnÃ¡ cyklu

```python
for i in range(1, 10, 2): # lichÃ¡ ÄÃ­sla
  print(i)
```

```python
for i in range(1, 6):
  print('*' * i)
```

```python
for c in 'abcğŸ˜': # znaky v Å™etÄ›zci
  print(c)
```

Å˜etÄ›zec (a podobnÃ© kolekce) lze indexovat (pÅ™istupovat k prvkÅ¯m podle jejich poÅ™adÃ­, pozice):

```python
s = 'abcğŸ˜'
for i in range(len(s)): # pozice (index) v Å™etÄ›zci
  print(s[i])           # znak na pozici i
```

A to i od konce, pomocÃ­ negativnÃ­ch indexÅ¯:

```python
s = 'abcğŸ˜'
for i in range(len(s)): # pozice (indexy) v Å™etÄ›zci
  print(s[-i-1])        # znak na pozici i
```

Cykly lze do sebe vnoÅ™it:

```python
for i in range(6):    # vnÄ›jÅ¡Ã­ cyklus, Å™Ã­dicÃ­ promÄ›nnÃ¡ i
  for j in range(8):  # vnitÅ™nÃ­ cyklus, Å™Ã­dicÃ­ promÄ›nnÃ¡ j
    print('* ', end='')
  print()
```

Cyklus lze _pÅ™edÄasnÄ›_ ukonÄit pÅ™Ã­kazem `break`

```python
for i in range(10):
  if 7 < i: # poslednÃ­ byla sedmiÄka
    break
  print(i)
```

TakÃ© lze vynutit pÅ™edÄasnÃ© pokraÄovÃ¡nÃ­ cyklu pÅ™Ã­kazem `continue`

```python
for i in range(10):
  if i % 2: # pÅ™eskoÄ lichÃ¡ ÄÃ­sla
    continue
  print(i)
```

## Cykly `while`

DruhÃ½ typ cyklu je tzv. while-cyklus, kterÃ½ provÃ¡dÃ­ kÃ³d (tÄ›lo cyklu) tak dlouho, pokud je splnÄ›na danÃ¡ podmÃ­nka:

```python
# stejnÃ© jako: for i in range(10):
i = 0         # poÄÃ¡teÄnÃ­ hodnota
while i < 10: # podmÃ­nka
  print(i)    # tÄ›lo: prvnÃ­ Å™Ã¡dek
  i = i+1     # tÄ›lo: druhÃ½ Å™Ã¡dek
```

Pozor na nekoneÄnÃ½ cyklus!

```python
i = 0
while i < 10:
  print(i)
  i = i-1
```

Vstup a [obsluha vÃ½jimek](https://pythonbasics.org/try-except/):

```python
mÃ¡mTo = False
while not mÃ¡mTo:
  try:    # zaÄÃ¡tek chrÃ¡nÄ›nÃ©ho bloku
    i = int(input('Zadej celÃ© ÄÃ­slo mezi jednou a deseti: '))
    if 1 <= i <= 10:
      mÃ¡mTo = True
  except: # zde se zachytÃ­ vÃ½jimka
    pass  # prÃ¡zdnÃ½ pÅ™Ã­kaz

print(f'zadÃ¡no bylo {i=}')
```

Nebo takto:

```python
while True:   # nekoneÄnÃ½ cyklus
  try:        # chrÃ¡nÄ›nÃ½ blok
    i = int(input('Zadej celÃ© ÄÃ­slo mezi jednou a deseti: '))
    if 1 <= i <= 10:
      break   # pÅ™edÄasnÃ© (explicitnÃ­) ukonÄenÃ­ cyklu
  except:
    print('Chyba, chybka, chybiÄka âš ï¸')

print(f'zadÃ¡no bylo {i=}')
```

Tento kÃ³d je uÅ¾iteÄnÃ½, mÅ¯Å¾eme si z nÄ›j udÄ›lat funkci:

```python
def getInt(low, high):  # uÅ¾ivatelskÃ¡ funkce s paranetry low a high
  while True:
    try:
      number = int(input(f'Zadej celÃ© ÄÃ­slo mezi {low} a {high}: '))
      if low <= number <= high:
        return number   # nÃ¡vrat z funkce
    except:
      pass

# pouÅ¾itÃ­ funkce
i = getInt(10, 20)
print(f'zadÃ¡no bylo {i=}')
j = getInt(20, 40)
print(f'zadÃ¡no bylo {j=}')
```

### Ãšloha:

NapiÅ¡te program, kterÃ½ pÅ™eÄte ze vstupu slovo a vypÃ­Å¡e kaÅ¾dÃ© druhÃ© pÃ­smeno.

#### ğŸ§© MoÅ¾nÃ© Å™eÅ¡enÃ­:

```python
s = input('Slovo: ').strip()
for i in range(len(s)):
  if i % 2:
    print(s[i], end='')
```

Nebo:

```python
s = input('Slovo: ').strip()
for i in range(0, len(s), 2):
  print(s[i], end='')
```

Nebo:

```python
s = input('Slovo: ').strip()
print(s[1::2])
```

### Ãšloha:

NapiÅ¡te program, kterÃ½ obsahuje v promÄ›nnÃ© jmÃ©no nÄ›jakÃ© osoby. Program se vÃ¡s zeptÃ¡ na to, jak se osoba jmenuje. Pokud napÃ­Å¡ete sprÃ¡vnÃ© jmÃ©no, tak vÃ¡m program pogratuluje a skonÄÃ­. Pokud napÃ­Å¡ete jmÃ©no Å¡patnÄ›, tak se program zeptÃ¡ znovu, tak dlouho, dokud jmÃ©no neuhÃ¡dnete.

#### ğŸ§© MoÅ¾nÃ© Å™eÅ¡enÃ­:

```python
osoba = 'Tom'
pokus = ''

# ignoruj velkÃ¡/malÃ¡ pÃ­smena
while pokus.lower() != osoba.lower():
  pokus = input('HÃ¡dej: ').strip()

print('VÃ½bornÄ›!')
```

### Ãšloha:

VnoÅ™enÃ© cykly: program pÅ™eÄte ze vstupu tÅ™i celÃ¡, nezÃ¡pornÃ¡ ÄÃ­sla, a vypÃ­Å¡e obraz Å¡achovnice, napÅ™.:

```
***   ***   ***   ***   ***
***   ***   ***   ***   ***
***   ***   ***   ***   ***
   ***   ***   ***   ***
   ***   ***   ***   ***
   ***   ***   ***   ***
***   ***   ***   ***   ***
***   ***   ***   ***   ***
***   ***   ***   ***   ***
```

kde tÅ™i zadanÃ© hodnoty jsou: poÄet Å™Ã¡dkÅ¯ a sloupcÅ¯ Å¡achovnice a velikost pole.

#### ğŸ§© MoÅ¾nÃ© Å™eÅ¡enÃ­:

Jedno z **mnoha** moÅºnÃ½ch Å™eÅ¡enÃ­:

```python
rows = 3 # poÄet Å™Ã¡dkÅ¯
cols = 5 # poÄet sloupcÅ¯
size = 2 # velikost pole

for r in range(rows*size):
  oddRow = r % (2*size) < size              # lichÃ½ Å™Ã¡dek
  for s in range(cols*size):
    oddCol = s % (2*size) < size            # lichÃ½ sloupec
    char = '-' if oddRow ^ oddCol else '*'  # ^: logickÃ¡ operace 'xor'
    print(char, end='')
  print()
```

### Ãšloha:

Upravte svoje programy z minulÃ© lekce tak, aby byl vstup oÅ¡etÅ™en proti uÅ¾ivatelskÃ© chybÄ›. Tj. kdyÅ¾ by v dÅ¯sledku zadÃ¡nÃ­ chybnÃ© hodnoty doÅ¡lo k vÃ½jimce, vypiÅ¡te chybovÃ© hlÃ¡Å¡enÃ­ a nechte uÅ¾ivatele zadat hodnotu znovu.

### Ãšloha:

NapiÅ¡te program, ve kterÃ©m uÅ¾ivatel zadÃ¡ sadu ÄÃ­sel oddÄ›lenÃ½ch ÄÃ¡rkou. NÃ¡slednÄ› ve druhÃ©m vstupu zvolÃ­ slovy jakou operaci chce s ÄÃ­sly provÃ©st: napÅ™. `seÄti`, `vynÃ¡sob`, atd. nebo `+`, `*` atd. Program podle vÃ½bÄ›ru ÄÃ­sla seÄte, vynÃ¡sobÃ­, atd., a vypÃ­Å¡e vÃ½sledek.

### Ãšloha:

NapiÅ¡te program, kterÃ½ zjistÃ­, zda zadanÃ© slovo je palindrom, tedy Äte se z obou stran stejnÄ›. NapÅ™. "krk", "kunanesenanuk" nebo "jelenovipivonelej".

### Ãšloha:

NapiÅ¡te program, kterÃ½ zjistÃ­, zda zadanÃ© heslo uÅ¾ivatelem je tzv. silnÃ©. Heslo musÃ­ obsahovat alespoÅˆ jedno velkÃ© pÃ­smeno, jedno malÃ© pÃ­smeno, jednu ÄÃ­slici, jeden speciÃ¡lnÃ­ znak a minimÃ¡lnÃ­ dÃ©lka musÃ­ bÃ½t alespoÅˆ 8 znakÅ¯. (NÃ¡povÄ›da: metody tÅ™Ã­dy `str`, zaÄinajÃ­cÃ­ `is...`.)

#### ğŸ§© MoÅ¾nÃ© Å™eÅ¡enÃ­:

```python
pwd = input('Heslo: ')

# vÃ½chozÃ­ hodnoty
hasSpace = False  # mezery apod.
hasLower = False  # malÃ© pÃ­smeno
hasUpper = False  # velkÃ© pÃ­smeno
hasDigit = False  # ÄÃ­slice
hasSpec  = False  # speciÃ¡lnÃ­ (nikoli alfanumerickÃ½) znak

isLongEnough = 8 <= len(pwd)

for char in pwd:
  if char.isspace():
    hasSpace = True
  elif char.islower():
    hasLower = True
  elif char.isupper():
    hasUpper = True
  elif char.isdigit():
    hasDigit = True
  else:
    hasSpec = True

isValid = isLongEnough and not hasSpace and hasLower and hasUpper and hasDigit and hasSpec

print('platnÃ©' if isValid else 'neplatnÃ©', 'heslo')

if not isLongEnough:
  print('krÃ¡tkÃ© heslo')

if hasSpace:
 print('nesmÃ­ mÃ­t mezery')

if not hasLower:
  print('musÃ­ mÃ­t malÃ© pÃ­smeno')

if not hasUpper:
  print('musÃ­ mÃ­t velkÃ© pÃ­smeno')

if not hasDigit:
  print('musÃ­ mÃ­t ÄÃ­slici')

if not hasSpec:
  print('musÃ­ mÃ­t speciÃ¡lnÃ­ znak')
```
