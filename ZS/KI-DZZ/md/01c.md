# První pokusy

Python + numpy, Google Colab, Audacity.

# Základní vlnové funkce

[Sinusová vlna](https://en.wikipedia.org/wiki/Sine_wave):

> y(t) = A·sin(2π·f·t + φ)

- y(t) : okamžitá hodnota v čase t [s]
- A : amplituda [1]
- f : frekvence [Hz]
- počáteční fáze [rad]

Zjednodušeně:

> y(t) = A·sin(ω·t + φ)

- ω = 2π·f : úhlová frekvence (angular frequency) [rad/s]

#### setup

```python
import numpy as np
sr  = 48000 # good sampling rate
pi  = np.pi # π
pi2 = 2*pi  # 2π

from IPython.display import Audio
import matplotlib.pyplot as plt
from scipy.io.wavfile import write
```

#### sinusovka

```python
dur = 2    # duration, seconds
frq = 440  # frequency (Hz, tone A4)
amp = .5   # amplitude

# time points
t = np.linspace(0, dur, int(sr*dur), endpoint=False)

# computed sine wave
wave = amp * np.sin(pi2 * frq * t)

print(len(t))
print(min(wave), max(wave))
print(t[0:10])
```

#### přehrát

```python
Audio(wave, rate=sr)
```

(cvaknutí na konci?)

#### zobrazit

```python
plt.figure(figsize=(8, 3))
plt.plot(t, wave)
plt.title(f"Sine wave {frq} Hz")
plt.xlabel("Time (seconds)")
plt.ylabel("Amplitude")
plt.grid(True)
plt.show()
```

moc husté

#### zobrazit začátek

```python
n = 200
plt.figure(figsize=(8, 3))
plt.plot(t[:n], wave[:n])
plt.grid(True)
plt.show()
```

lepší

#### zobrazit konec

```python
n = 200
plt.figure(figsize=(8, 3))
plt.plot(t[-n:], wave[-n:])
plt.grid(True)
plt.show()
```

#### zapsat do souboru

```python
write("sine_wave.wav", sr, wave)
```

Soubor otevřete v Audacity.

## Úlohy:

1. Měňte frekvenci a amplitudu vlny, zobrazte a poslouchejte.
1. Zvyšte amplitudu nad 1.0 (clipping), zobrazte a poslouchejte.
1. Vytvořte dvě stejné sinusovky a smíchejte (sečtěte) je. Co se stane, když je fáze posunuta, např. o π/2 nebo dokonce o π?
1. Vytvořte dvě nebo více sinusovek s různými frekvencemi a smíchejte je.
1. Vytvořte dvě sinusovky s velmi podobnými frekvencemi (např. 440 a 442 Hz) a smíchejte je.
1. Dále tři sinusovky s frekvencemi v poměru celých čísel, např. 440, 550 a 660 Hz (A4, C#5, E5).

Amplitudová obálka:

1. Vytvořte jednu slyšitelnou sinusovku. Druhá sinusovka bude mít velmi nízkou frequenci, např. 4 Hz. Druhá, pomalá sinusovka bude měnit amplitudu té první, a to tak, že se obě vlny mezi sebou vynásobí.
1. Nyní nastavte druhé sinusovce frekvenci takovou, aby za dobu trvání proběhla jen polovina vlny.

## Další úloha

Seznamte se s [Audacity](https://www.audacityteam.org) (opovážlivost, chucpe).
