# Desetinná čísla, modul `math`, vstup a výstup, formátované řetězce

## Čísla typu `float`

Desetinná (reálná) čísla třídy (typu) `float` jsou „nepřesná“, to jest: jsou přesná, ale jen pro určité hodnoty, které jsou realizovatelné v hardware. Výsledky výpočtů s nimi se mohou zaokrouhlit na nejbližší reprezentovatelné číslo.

- [IEEE-754 for geeks](https://www.geeksforgeeks.org/computer-organization-architecture/ieee-standard-754-floating-point-numbers/)
- [Python: Floating-Point Arithmetic](https://docs.python.org/3/tutorial/floatingpoint.html)
- [Calculator](https://www.h-schmidt.net/FloatConverter/IEEE754.html) (zkuste např. `0.1`)

Nepoužívejme je proto pro přesné výpočty a přesná porovnávání!

Příklad:

```python
5/7 == (2/7) * (5/2) # should be True, but it is not
```

> False

Proč?

```python
5/7
```

> 0.714285714285714**3**

```python
(2/7) * (5/2)
```

> 0.714285714285714**2**

Rozdíl:

```python
5/7 - (2/7) * (5/2)
```

> 1.1102230246251565e-16 # velmi malé číslo (numerická, zaokrouhlovací chyba)

Zde bylo číslo vypsáno v tzv. _vědeckém zápisu_ (scientific notation), ve formátu _mantissa_ a _exponent_.

Výhodou čísel `float` je jejich velký rozsah, nevýhodou jejich omezená přesnost.

`float` čísla lze _přibližně_ porovnat např. takto (`abs` je nutné!!):

```python
abs((5/7) - ((2/7) * (5/2))) < 1e-10
```

To jest, ptáme se: je rozdíl čísel dostatečně malý, neboli: jsou si čísla dostatečně blízká?

Modul `math` má pro takovéto porovnání funkci `isclose()`:

```python
math.isclose(5/7, 2/7 * 5/2)
```

### Úlohy:

- Zjistěte a ověřte jaký je rozsah čísel `float`.
- Modul [math](https://docs.python.org/3/library/math.html) obsahuje řadu dalších funkcí pro práci s čísly `float`. Projděte si je.

## Řádkový výstup

Pro řádkový výstup je k dispozici _vestavěná_ funkce `print()`: [w3schools](https://www.w3schools.com/python/ref_func_print.asp), [docs.python](https://docs.python.org/3/library/functions.html#print)

`print()` umí vypsat hodnoty mnoha (všech?) typů:

```python
print(3)
print(3.2)
print(3/2)
print('3/2')
```

Lze také vypsat několik hodnot najednou. Jednotlivé hodnoty jsou zadány jako tzv. _pozicionální argumenty_ (positional arguments), a jsou automaticky odděleny mezerou:

```python
print(3, 3.2, 3/2, '3/2')
```

Oddělovač (obsah mezi vypsanými hodnotami, separator) lze specifikovat pomocí tzv. _pojmenovaného_ argumentu (named argument) `sep`:

```python
print(3, 3.2, 3/2, '3/2', sep=' : ')
```

`print` autovaticky ukončí řádku tím, že na její konec přidá (neviditelný) znak pro přechod na novou řádku (_newline_, _NL_).

```python
print('čísla: ')
print(3, 3.2, 3/2, '3/2')
```

Ukončení řádky lze specifikovat pomocí pojmenovaného argumentu `end`:

```python
print('čísla: ', end='') # no newline
print(3, 3.2, 3/2,'3/2')
print('čísla: ', end='// ') # custom ending
print(3, 3.2, 3/2,'3/2')
```

A v takovém případě lze _NL_, přechod na novou řádku vložit pomocí tzv. „escape“ sekvence `\n`:

```python
print('čísla: ', end='//\n')
print(3, 3.2, 3/2, '3/2')
```

## Řádkový vstup (opakování)

Vstup řádky textu se provede vestavěnou funkcí `input()`: [w3schools](https://www.w3schools.com/python/ref_func_input.asp), [docs.python](https://docs.python.org/3/library/functions.html#input)

```python
print('Enter your name:') # prompt
name = input()
print('Hello,', name)
```

Výzvu (prompt) lze vložit jako argument přímo do volání funkce `input()`:

```python
name = input('Enter your name: ')
print('Hello,', name, end='!\n') # why 'end'?
```

`input()` vrací objekt typu `str` (string, řetězec):

```python
type(input('Enter your name: '))
```

Vestavěná funkce [int()](https://www.w3schools.com/python/ref_func_int.asp) se pokusí převést svůj argument (řetězec, nebo cokoli jiného) na číslo (objekt) typu `int`:

```python
int(3.2)
```

```python
int('3')
```

Ale ne:

```python
int('3.0')
```

Vestavěná funkce [float()](https://www.w3schools.com/python/ref_func_float.asp) se podobně pokusí převést zadaný argument na objekt typu `float`:

Tohle už jde:

```python
float('3.0')
```

A tohle také:

```python
int(float('3.0')) # does int() truncate or round the float?
```

Nebo také (pokud zadáte správný vstup):

```python
int(input('Enter an int: '))
```

<!-- ### Úloha

Kromě [vestavěných operátorů](https://www.w3schools.com/python/python_operators.asp) obsahuje Python také obsahuje celou řadu [vestavěných funkcí](https://www.w3schools.com/python/python_ref_functions.asp).

Projděte si a vyzkoušejte tyto vestavěné funkce: `abs`, `dir`, `float`, `help`, `input`, `int`, `max`, `min`, `pow`, `print`, `range`, `str`, `type`. -->

## Formátování řetězců

Řetězce lze spojovat [operátorem +](https://www.w3schools.com/python/python_strings_concatenate.asp):

```python
name = input('Enter your name:')
text = 'Hello, ' + name + '!'
print(text) # or, directly: print('Hello, ' + name + '!')
```

Použití stejného operátoru pro rozdílné operace podle typu operandů (sčítání čísel, spojování řetězců) je tzv. _přetížení operátoru_ (operator overloading).

Od verze Pythonu 3.6 lze použít tzv. [f-string](https://www.w3schools.com/python/python_string_formatting.asp) (formátovaný řetězec, formatted string, řetězcovou interpolaci, string interpolation). Proměnné se vkládájí uzavřeny ve složených závorkách `{}` ([docs.python](https://docs.python.org/3/tutorial/inputoutput.html)):

```python
name = input('Enter your name:')
print(f'Hello, {name}!')
```

Do složených závorek lze vložit i celý výraz:

```python
a = 2
b = 3
print(f'a = {a}, b = {b}, a + b = {a+b}')
```

### Úloha

Napište program, který se uživatele zeptá na jméno, věk, bydliště (apod.) a pak vypíše text: _Dobrý den, ..., Vaším domovem je ... a za rok Vám bude ... let._

## Porovnávání a podmíněný výraz (ternární operátor)

Hodnoty lze porovnávat:

```python
a = 3
b = 4

# čísla
print('a == 3:', a == 3)
print('a != 3:', a != 3)
print('a < 3:',  a < 3)
print('a <= 3:', a <= 3)
print('a > 3:',  a > 3)
print('a >= 3:', a >= 3)
print('a < b:',  a < b)

# řetězce
print("'a'=='b'", 'a'=='b')
print("'a'<='b'", 'a'<='b')
```

Výsledkem porovnání je pravdivostní (booleovská) hodnota `True` nebo `False` (typu `bool`):

Podle pravdivostní hodnoty lze podmíněným výrazem vybrat jednu ze dvou hodnot:

```python
3 if True else 4
```

```python
3 if False else 4
```

```python
a = 3
b = 4

menší = a if a<b else b
print('menší je', menší)

menší = 'a' if a<b else 'b'
print('menší je', menší)
```

Příklad z LOTRu:

```python
Fr = 'Frodo'
FrAge = 50

Gd = 'Gandalf'
GdAge = 2000

print(f'{Fr} is {FrAge} and {Gd} is {GdAge}.')
print(f'{Gd if FrAge<GdAge else Fr} is older and therefore wiser.')
```

## Booleovská algebra (boolean algebra)

V Booleovské algebře jsou

- dvě hodnoty: `False` a `True` (_ne_ a _ano_, 0 a 1)
- tři základní operátory:
  - `and`, logický součin (konjunkce)
  - `or`, logický součet (disjunkce)
  - `not`, negace

```python
print(type(False), type(True), 3<4, type(3<4)) # etc.
print(3<4 and 4<5)
print(3<4 and 3>4)
print(3<4 or 3>4)
print(not 3>4)
```

### Úlohy

Napište následující programy:

- Zadejte délku odvěsen pravoúhlého trojúhelníku a vypište délku přepony.
- Zadejte délku stran trojúhelníku a určete, zda je trojúhelník pravoúhlý.
- _Vymyslete si sami podobnou úlohu._

- Rozšiřte příklad s Frodem a Gandalfem na tři členy Společenství prstenu. Podmíněnými výrazy vyberte nejstašího ze _tří_ možných.

- Automat na vodu a vodku se zeptá zákazníka na jméno a pozdraví jej jménem. Nejdříve se zeptá se na věk: mladým pogratuluje k jejich mládí a starým k jejich moudrosti. Dále se zeptá, zda si zákazník žádá vodu nebo vodku. Starým prodá vodu i vodku, mladým ale jen vodu.
